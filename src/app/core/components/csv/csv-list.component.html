<nz-tree
      [nzData]="nodes"
      [nzTreeTemplate]="nzTreeTemplate"
      [nzVirtualHeight]="'300px'"
      [nzBlockNode]="true"
    ></nz-tree>
    <ng-template #nzTreeTemplate let-node let-origin="origin">
      <span class="custom-node">
        <span *ngIf="!node.isLeaf">
          <i nz-icon [nzType]="origin.isExpanded ? 'folder-open' : 'folder'" (click)="openFolder(origin)"></i>
          <span class="folder-name">{{ node.title }}</span>
        </span>
        <span *ngIf="node.isLeaf" class="file-node">
          <i nz-icon nzType="file-excel" nzTheme="twotone" [nzTwotoneColor]="'#52c41a'"></i>
          <span class="file-name">{{ node.title }}</span>
          <!-- <span nz-icon nzType="cloud-download" nzTheme="twotone" [nzTwotoneColor]="'#52c41a'"></span> -->
          <button 
            nz-button 
            nzType="link" 
            nzShape="circle" 
            nz-tooltip 
            nzTooltipTitle="Descargar"
            (click)="downloadFile(node.key, node.title)"
          >
            <i nz-icon nzType="download"></i>
          </button>
        </span>
      </span>
    </ng-template>

    <nz-pagination
      [nzPageIndex]="pageIndex"
      [nzTotal]="totalItems"
      [nzPageSize]="pageSize"
      (nzPageIndexChange)="pageIndexChange($event)"
    ></nz-pagination>